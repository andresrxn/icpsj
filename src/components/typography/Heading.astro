---
import { cn } from '@/utils/theme'
import type { HTMLAttributes } from 'astro/types'
import { cva, type VariantProps } from 'class-variance-authority'

// const sizes = {
//   1: {
//     sm: 'text-heading-1-sm',
//     base: 'text-heading-1-base',
//     lg: 'text-heading-1-lg',
//     'display-base': 'text-heading-1-display-base',
//     'display-lg': 'text-heading-1-display-lg'
//   },
//   2: {
//     sm: 'text-heading-2-sm',
//     base: 'text-heading-2-base',
//     lg: 'text-heading-2-lg',
//     'display-base': 'text-heading-2-display-base',
//     'display-lg': 'text-heading-2-display-lg'
//   },
//   3: {
//     sm: 'text-heading-3-sm',
//     base: 'text-heading-3-base',
//     lg: 'text-heading-3-lg',
//     'display-base': '',
//     'display-lg': ''
//   },
//   4: {
//     sm: 'text-heading-4-sm',
//     base: 'text-heading-4-base',
//     lg: 'text-heading-4-lg',
//     'display-base': '',
//     'display-lg': ''
//   },
//   5: {
//     sm: 'text-heading-5-sm',
//     base: 'text-heading-5-base',
//     lg: 'text-heading-5-lg',
//     'display-base': '',
//     'display-lg': ''
//   },
//   6: {
//     sm: 'text-heading-6-sm',
//     base: 'text-heading-6-base',
//     lg: 'text-heading-6-lg',
//     'display-base': '',
//     'display-lg': ''
//   }
// }

const headingVariants = cva('font-heading text-balance text-ellipsis text-base', {
  variants: {
    center: {
      true: 'text-center w-full mx-auto'
    },
    level: {
      1: true,
      2: true,
      3: true,
      4: true,
      5: true,
      6: true
    },
    size: {
      sm: true,
      base: true,
      lg: true,
      'display-base': true,
      'display-lg': true
    },
    tablet: {
      sm: true,
      base: true,
      lg: true,
      'display-base': true,
      'display-lg': true
    },
    laptop: {
      sm: true,
      base: true,
      lg: true,
      'display-base': true,
      'display-lg': true
    },
    desktop: {
      sm: true,
      base: true,
      lg: true,
      'display-base': true,
      'display-lg': true
    },
    tv: {
      sm: true,
      base: true,
      lg: true,
      'display-base': true,
      'display-lg': true
    },
    characters: {
      sm: 'max-w-prose-sm',
      base: 'max-w-prose-base'
    }
  },
  compoundVariants: [
    {
      level: 1,
      size: 'sm',
      className: 'text-heading-1-sm'
    },
    {
      level: 1,
      size: 'base',
      className: 'text-heading-1-base'
    },
    {
      level: 1,
      size: 'lg',
      className: 'text-heading-1-lg'
    },
    {
      level: 1,
      size: 'display-base',
      className: 'text-heading-1-display-base'
    },
    {
      level: 1,
      size: 'display-lg',
      className: 'text-heading-1-display-lg'
    },
    {
      level: 2,
      size: 'sm',
      className: 'text-heading-2-sm'
    },
    {
      level: 2,
      size: 'base',
      className: 'text-heading-2-base'
    },
    {
      level: 2,
      size: 'lg',
      className: 'text-heading-2-lg'
    },
    {
      level: 2,
      size: 'display-base',
      className: 'text-heading-2-display-base'
    },
    {
      level: 2,
      size: 'display-lg',
      className: 'text-heading-2-display-lg'
    },
    {
      level: 3,
      size: 'sm',
      className: 'text-heading-3-sm'
    },
    {
      level: 3,
      size: 'base',
      className: 'text-heading-3-base'
    },
    {
      level: 3,
      size: 'lg',
      className: 'text-heading-3-lg'
    },
    {
      level: 4,
      size: 'sm',
      className: 'text-heading-4-sm'
    },
    {
      level: 4,
      size: 'base',
      className: 'text-heading-4-base'
    },
    {
      level: 4,
      size: 'lg',
      className: 'text-heading-4-lg'
    },
    {
      level: 5,
      size: 'sm',
      className: 'text-heading-5-sm'
    },
    {
      level: 5,
      size: 'base',
      className: 'text-heading-5-base'
    },
    {
      level: 5,
      size: 'lg',
      className: 'text-heading-5-lg'
    },
    {
      level: 6,
      size: 'sm',
      className: 'text-heading-6-sm'
    },
    {
      level: 6,
      size: 'base',
      className: 'text-heading-6-base'
    },
    {
      level: 6,
      size: 'lg',
      className: 'text-heading-6-lg'
    },

    {
      level: 1,
      desktop: 'sm',
      className: 'xl:text-heading-1-sm'
    },
    {
      level: 1,
      desktop: 'base',
      className: 'xl:text-heading-1-base'
    },
    {
      level: 1,
      desktop: 'lg',
      className: 'xl:text-heading-1-lg'
    },
    {
      level: 1,
      desktop: 'display-base',
      className: 'xl:text-heading-1-display-base'
    },
    {
      level: 1,
      desktop: 'display-lg',
      className: 'xl:text-heading-1-display-lg'
    },
    {
      level: 2,
      desktop: 'sm',
      className: 'xl:text-heading-2-sm'
    },
    {
      level: 2,
      desktop: 'base',
      className: 'xl:text-heading-2-base'
    },
    {
      level: 2,
      desktop: 'lg',
      className: 'xl:text-heading-2-lg'
    },
    {
      level: 2,
      desktop: 'display-base',
      className: 'xl:text-heading-2-display-base'
    },
    {
      level: 2,
      desktop: 'display-lg',
      className: 'xl:text-heading-2-display-lg'
    },
    {
      level: 3,
      desktop: 'sm',
      className: 'xl:text-heading-3-sm'
    },
    {
      level: 3,
      desktop: 'base',
      className: 'xl:text-heading-3-base'
    },
    {
      level: 3,
      desktop: 'lg',
      className: 'xl:text-heading-3-lg'
    },
    {
      level: 4,
      desktop: 'sm',
      className: 'xl:text-heading-4-sm'
    },
    {
      level: 4,
      desktop: 'base',
      className: 'xl:text-heading-4-base'
    },
    {
      level: 4,
      desktop: 'lg',
      className: 'xl:text-heading-4-lg'
    },
    {
      level: 5,
      desktop: 'sm',
      className: 'xl:text-heading-5-sm'
    },
    {
      level: 5,
      desktop: 'base',
      className: 'xl:text-heading-5-base'
    },
    {
      level: 5,
      desktop: 'lg',
      className: 'xl:text-heading-5-lg'
    },
    {
      level: 6,
      desktop: 'sm',
      className: 'xl:text-heading-6-sm'
    },
    {
      level: 6,
      desktop: 'base',
      className: 'xl:text-heading-6-base'
    },
    {
      level: 6,
      desktop: 'lg',
      className: 'xl:text-heading-6-lg'
    },

    {
      level: 1,
      tv: 'sm',
      className: '2xl:text-heading-1-sm'
    },
    {
      level: 1,
      tv: 'base',
      className: '2xl:text-heading-1-base'
    },
    {
      level: 1,
      tv: 'lg',
      className: '2xl:text-heading-1-lg'
    },
    {
      level: 1,
      tv: 'display-base',
      className: '2xl:text-heading-1-display-base'
    },
    {
      level: 1,
      tv: 'display-lg',
      className: '2xl:text-heading-1-display-lg'
    },
    {
      level: 2,
      tv: 'sm',
      className: '2xl:text-heading-2-sm'
    },
    {
      level: 2,
      tv: 'base',
      className: '2xl:text-heading-2-base'
    },
    {
      level: 2,
      tv: 'lg',
      className: '2xl:text-heading-2-lg'
    },
    {
      level: 2,
      tv: 'display-base',
      className: '2xl:text-heading-2-display-base'
    },
    {
      level: 2,
      tv: 'display-lg',
      className: '2xl:text-heading-2-display-lg'
    },
    {
      level: 3,
      tv: 'sm',
      className: '2xl:text-heading-3-sm'
    },
    {
      level: 3,
      tv: 'base',
      className: '2xl:text-heading-3-base'
    },
    {
      level: 3,
      tv: 'lg',
      className: '2xl:text-heading-3-lg'
    },
    {
      level: 4,
      tv: 'sm',
      className: '2xl:text-heading-4-sm'
    },
    {
      level: 4,
      tv: 'base',
      className: '2xl:text-heading-4-base'
    },
    {
      level: 4,
      tv: 'lg',
      className: '2xl:text-heading-4-lg'
    },
    {
      level: 5,
      tv: 'sm',
      className: '2xl:text-heading-5-sm'
    },
    {
      level: 5,
      tv: 'base',
      className: '2xl:text-heading-5-base'
    },
    {
      level: 5,
      tv: 'lg',
      className: '2xl:text-heading-5-lg'
    },
    {
      level: 6,
      tv: 'sm',
      className: '2xl:text-heading-6-sm'
    },
    {
      level: 6,
      tv: 'base',
      className: '2xl:text-heading-6-base'
    },
    {
      level: 6,
      tv: 'lg',
      className: '2xl:text-heading-6-lg'
    },

    {
      level: 1,
      tablet: 'sm',
      className: 'md:text-heading-1-sm'
    },
    {
      level: 1,
      tablet: 'base',
      className: 'md:text-heading-1-base'
    },
    {
      level: 1,
      tablet: 'lg',
      className: 'md:text-heading-1-lg'
    },
    {
      level: 1,
      tablet: 'display-base',
      className: 'md:text-heading-1-display-base'
    },
    {
      level: 1,
      tablet: 'display-lg',
      className: 'md:text-heading-1-display-lg'
    },
    {
      level: 2,
      tablet: 'sm',
      className: 'md:text-heading-2-sm'
    },
    {
      level: 2,
      tablet: 'base',
      className: 'md:text-heading-2-base'
    },
    {
      level: 2,
      tablet: 'lg',
      className: 'md:text-heading-2-lg'
    },
    {
      level: 2,
      tablet: 'display-base',
      className: 'md:text-heading-2-display-base'
    },
    {
      level: 2,
      tablet: 'display-lg',
      className: 'md:text-heading-2-display-lg'
    },
    {
      level: 3,
      tablet: 'sm',
      className: 'md:text-heading-3-sm'
    },
    {
      level: 3,
      tablet: 'base',
      className: 'md:text-heading-3-base'
    },
    {
      level: 3,
      tablet: 'lg',
      className: 'md:text-heading-3-lg'
    },
    {
      level: 4,
      tablet: 'sm',
      className: 'md:text-heading-4-sm'
    },
    {
      level: 4,
      tablet: 'base',
      className: 'md:text-heading-4-base'
    },
    {
      level: 4,
      tablet: 'lg',
      className: 'md:text-heading-4-lg'
    },
    {
      level: 5,
      tablet: 'sm',
      className: 'md:text-heading-5-sm'
    },
    {
      level: 5,
      tablet: 'base',
      className: 'md:text-heading-5-base'
    },
    {
      level: 5,
      tablet: 'lg',
      className: 'md:text-heading-5-lg'
    },
    {
      level: 6,
      tablet: 'sm',
      className: 'md:text-heading-6-sm'
    },
    {
      level: 6,
      tablet: 'base',
      className: 'md:text-heading-6-base'
    },
    {
      level: 6,
      tablet: 'lg',
      className: 'md:text-heading-6-lg'
    },

    {
      level: 1,
      laptop: 'sm',
      className: 'lg:text-heading-1-sm'
    },
    {
      level: 1,
      laptop: 'base',
      className: 'lg:text-heading-1-base'
    },
    {
      level: 1,
      laptop: 'lg',
      className: 'lg:text-heading-1-lg'
    },
    {
      level: 1,
      laptop: 'display-base',
      className: 'lg:text-heading-1-display-base'
    },
    {
      level: 1,
      laptop: 'display-lg',
      className: 'lg:text-heading-1-display-lg'
    },
    {
      level: 2,
      laptop: 'sm',
      className: 'lg:text-heading-2-sm'
    },
    {
      level: 2,
      laptop: 'base',
      className: 'lg:text-heading-2-base'
    },
    {
      level: 2,
      laptop: 'lg',
      className: 'lg:text-heading-2-lg'
    },
    {
      level: 2,
      laptop: 'display-base',
      className: 'lg:text-heading-2-display-base'
    },
    {
      level: 2,
      laptop: 'display-lg',
      className: 'lg:text-heading-2-display-lg'
    },
    {
      level: 3,
      laptop: 'sm',
      className: 'lg:text-heading-3-sm'
    },
    {
      level: 3,
      laptop: 'base',
      className: 'lg:text-heading-3-base'
    },
    {
      level: 3,
      laptop: 'lg',
      className: 'lg:text-heading-3-lg'
    },
    {
      level: 4,
      laptop: 'sm',
      className: 'lg:text-heading-4-sm'
    },
    {
      level: 4,
      laptop: 'base',
      className: 'lg:text-heading-4-base'
    },
    {
      level: 4,
      laptop: 'lg',
      className: 'lg:text-heading-4-lg'
    },
    {
      level: 5,
      laptop: 'sm',
      className: 'lg:text-heading-5-sm'
    },
    {
      level: 5,
      laptop: 'base',
      className: 'lg:text-heading-5-base'
    },
    {
      level: 5,
      laptop: 'lg',
      className: 'lg:text-heading-5-lg'
    },
    {
      level: 6,
      laptop: 'sm',
      className: 'lg:text-heading-6-sm'
    },
    {
      level: 6,
      laptop: 'base',
      className: 'lg:text-heading-6-base'
    },
    {
      level: 6,
      laptop: 'lg',
      className: 'lg:text-heading-6-lg'
    }
  ],
  defaultVariants: {
    center: false,
    level: 1,
    size: 'base'
  }
})

interface Props extends HTMLAttributes<'h1'>, VariantProps<typeof headingVariants> {}

const {
  center,
  size = 'base',
  tablet,
  laptop,
  desktop,
  tv,
  level = 1,
  characters,
  class: className,
  ...props
} = Astro.props
const Tag = `h${level}`
---

<Tag
  class:list={cn(
    headingVariants({ center, characters, desktop, laptop, level, size, tablet, tv }),

    className
  )}
  {...props}>
  <slot />
</Tag>
