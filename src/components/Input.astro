---
import { cn } from '@/utils/theme'
import type { HTMLAttributes } from 'astro/types'
import { cva, type VariantProps } from 'class-variance-authority'

export const inputVariants = cva(
  'block rounded-base whitespace-nowrap focus-visible:outline-none ring-base focus-visible:ring focus-visible:ring-offset-2 ring-offset-surface disabled:disabled max-w-full placeholder:text-base-subtler py-4 px-12 w-full shadow-sm border-input border text-body-sm',
  {
    variants: {
      variant: {
        primary: 'bg-surface',
        secondary: 'bg-base-bold'
      },
      size: {
        sm: ' h-32',
        base: 'h-36',
        lg: 'h-40'
      },

      pill: {
        true: 'rounded-full'
      }
    },
    defaultVariants: {
      variant: 'primary',
      size: 'base',
      pill: false
    }
  }
)

export type Props = HTMLAttributes<'input'> & VariantProps<typeof inputVariants>

const { type, pill, variant, size, class: className, ...props } = Astro.props
---

<input type={type} class={cn(inputVariants({ pill, variant, size }), className)} {...props} />
