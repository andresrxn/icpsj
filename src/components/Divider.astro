---
import { cn } from '@/utils/theme'
import type { HTMLAttributes } from 'astro/types'
import { cva, type VariantProps } from 'class-variance-authority'

const dividerVariants = cva('bg-base-bold shrink-0 self-stretch block', {
  variants: {
    full: {
      true: ''
    },
    direction: {
      y: 'w-2',
      x: ''
    }
  },
  compoundVariants: [
    {
      full: false,
      direction: 'y',
      class: 'h-[95%] my-auto'
    },
    {
      full: false,
      direction: 'x',
      class: 'w-[95%] mx-auto'
    },
    {
      full: true,
      direction: 'y',
      class: 'h-full'
    },
    {
      full: true,
      direction: 'x',
      class: 'w-full'
    }
  ],
  defaultVariants: {
    full: false,
    direction: 'x'
  }
})

interface Props extends HTMLAttributes<'hr'>, VariantProps<typeof dividerVariants> {}

const { class: className, full, direction, ...props } = Astro.props
---

<hr class={cn(dividerVariants({ full, direction }), className)} {...props} />
